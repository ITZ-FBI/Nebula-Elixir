<!DOCTYPE html>
<html lang="en">
<head>
  <!-- [Previous head content remains exactly the same] -->
</head>
<body oncontextmenu="return false">
  <!-- [Previous body content remains exactly the same until the script] -->

  <script>
    const wallpapers = [
     { id: 1, title: "Library", category: "Design", src: "1.png", resolution: "1K", tags: ["Design"], type: "Design" },
{ id: 2, title: "Flying pot", category: "Design", src: "2.png", resolution: "1K", tags: ["Design"], type: "Design" },
{ id: 3, title: "Library 2", category: "Design", src: "3.png", resolution: "1K", tags: ["Design"], type: "Design" },
{ id: 4, title: "Shope keeper with customer", category: "Anime", src: "4.png", resolution: "1k", tags: ["Anime"]},
{ id: 5, title: "Forest with stairs", category: "Nature", src: "5.png", resolution: "1K", tags: ["Nature"], type: "" },
{ id: 8, title: "Forest with stairs 2", category: "Nature", src: "6.png", resolution: "1K", tags: ["Nature"], type: "" },
{ id: 7, title: "Forest with stairs 3", category: "Nature", src: "7.png", resolution: "1K", tags: ["Nature"], type: "" },
{ id: 8, title: "Night Sky", category: "Nature", src: "8.png", resolution: "1K", tags: ["Nature"], type: "" },
{ id: 9, title: "Lucky Day", category: "Anime", src: "9.png", resolution: "1K", tags: ["Anime"], type: "" },
{ id: 10, title: "Lucky Day 2", category: "Anime", src: "10.png", resolution: "1K", tags: ["Anime"], type: "" },
{ id: 11, title: "Flying Tea Pot", category: "Design", src: "11.png", resolution: "1K", tags: ["Design"], type: "" },
{ id: 12, title: "Flying Tea Pot 2", category: "Design", src: "12.png", resolution: "1K", tags: ["Design"], type: "" },
{ id: 13, title: "Shope keeper with customer 2", category: "Anime", src: "13.png", resolution: "1k", tags: ["Anime"]},
{ id: 14, title: "Shope keeper with customer 3", category: "Anime", src: "14.png", resolution: "1k", tags: ["Anime"]},
{ id: 15, title: "Cherry Blossom Pond", category: "Nature", src: "15.png", resolution: "1K", tags: ["Nature"], type: "" },
{ id: 16, title: "Cherry Blossom Pond 2", category: "Nature", src: "16.png", resolution: "1K", tags: ["Nature"], type: "" },
{ id: 17, title: "Cherry Blossom Pond 3", category: "Nature", src: "17.png", resolution: "1K", tags: ["Nature"], type: "" },
{ id: 18, title: "Train with Rainbow", category: "Vehicle", src: "18.png", resolution: "1K", tags: ["Vehicle"], type: "" },
{ id: 19, title: "Lucky Day 4", category: "Anime", src: "19.png", resolution: "1K", tags: ["Anime"], type: "" },
{ id: 20, title: "Library 3", category: "Design", src: "20.png", resolution: "1K", tags: ["Design"], type: "" },
{ id: 21, title: "Train ", category: "Vehicle", src: "21.png", resolution: "1K", tags: ["Vehicle"], type: "" },
{ id: 22, title: "Train 2", category: "Vehicle", src: "22.png", resolution: "1K", tags: ["Vehicle"], type: "" },
{ id: 23, title: "car", category: "Vehicle", src: "23.png", resolution: "1K", tags: ["Vehicle"], type: "" },
{ id: 24, title: "car 2", category: "Vehicle", src: "24.png", resolution: "1K", tags: ["Vehicle"], type: "" },
{ id: 25, title: "car 3", category: "Vehicle", src: "25.png", resolution: "1K", tags: ["Vehicle"], type: "" },
{ id: 26, title: "car 4", category: "Vehicle", src: "26.png", resolution: "1K", tags: ["Vehicle"], type: "" },
{ id: 27, title: "car 5", category: "Vehicle", src: "27.png", resolution: "1K", tags: ["Vehicle"], type: "" },
{ id: 28, title: "car 6", category: "Vehicle", src: "28.png", resolution: "1K", tags: ["Vehicle"], type: "" },
{ id: 29, title: "Wheat", category: "Nature", src: "29.png", resolution: "1K", tags: ["Nature"], type: "" },
{ id: 30, title: "Wheat 2", category: "Nature", src: "30.png", resolution: "1K", tags: ["Nature"], type: "" },
{ id: 31, title: "Wheat 3", category: "Nature", src: "31.png", resolution: "1K", tags: ["Nature"], type: "" },
{ id: 32, title: "", category: "", src: "32.png", resolution: "", tags: [], type: "" },
{ id: 33, title: "", category: "", src: "33.png", resolution: "", tags: [], type: "" },
{ id: 34, title: "", category: "", src: "34.png", resolution: "", tags: [], type: "" },
{ id: 35, title: "", category: "", src: "35.png", resolution: "", tags: [], type: "" },
{ id: 36, title: "", category: "", src: "36.png", resolution: "", tags: [], type: "" },
{ id: 37, title: "", category: "", src: "37.png", resolution: "", tags: [], type: "" },
{ id: 38, title: "", category: "", src: "38.png", resolution: "", tags: [], type: "" },
{ id: 39, title: "", category: "", src: "39.png", resolution: "", tags: [], type: "" },
{ id: 40, title: "", category: "", src: "40.png", resolution: "", tags: [], type: "" },
{ id: 41, title: "", category: "", src: "41.png", resolution: "", tags: [], type: "" },
{ id: 42, title: "", category: "", src: "42.png", resolution: "", tags: [], type: "" },
{ id: 43, title: "", category: "", src: "43.png", resolution: "", tags: [], type: "" },
{ id: 44, title: "", category: "", src: "44.png", resolution: "", tags: [], type: "" },
{ id: 45, title: "", category: "", src: "45.png", resolution: "", tags: [], type: "" },
{ id: 46, title: "", category: "", src: "46.png", resolution: "", tags: [], type: "" },
{ id: 47, title: "", category: "", src: "47.png", resolution: "", tags: [], type: "" },
{ id: 48, title: "", category: "", src: "48.png", resolution: "", tags: [], type: "" },
{ id: 49, title: "", category: "", src: "49.png", resolution: "", tags: [], type: "" },
{ id: 50, title: "", category: "", src: "50.png", resolution: "", tags: [], type: "" },
{ id: 51, title: "", category: "", src: "51.png", resolution: "", tags: [], type: "" },
{ id: 52, title: "", category: "", src: "52.png", resolution: "", tags: [], type: "" },
{ id: 53, title: "", category: "", src: "53.png", resolution: "", tags: [], type: "" },
{ id: 54, title: "", category: "", src: "54.png", resolution: "", tags: [], type: "" },
{ id: 55, title: "", category: "", src: "55.png", resolution: "", tags: [], type: "" },
{ id: 56, title: "", category: "", src: "56.png", resolution: "", tags: [], type: "" },
{ id: 57, title: "", category: "", src: "57.png", resolution: "", tags: [], type: "" },
{ id: 58, title: "", category: "", src: "58.png", resolution: "", tags: [], type: "" },
{ id: 59, title: "", category: "", src: "59.png", resolution: "", tags: [], type: "" },
{ id: 60, title: "", category: "", src: "60.png", resolution: "", tags: [], type: "" },
{ id: 61, title: "", category: "", src: "61.png", resolution: "", tags: [], type: "" },
{ id: 62, title: "", category: "", src: "62.png", resolution: "", tags: [], type: "" },
{ id: 63, title: "", category: "", src: "63.png", resolution: "", tags: [], type: "" },
{ id: 64, title: "", category: "", src: "64.png", resolution: "", tags: [], type: "" },

  
];
    ];

    function displayWallpapers(list = wallpapers) {
      const container = document.getElementById("wallpaper-list");
      container.innerHTML = "";
      
      list.forEach(wp => {
        const card = document.createElement("div");
        card.className = "wallpaper-card";
        card.innerHTML = `
          <img 
            src="${wp.src}" 
            data-fullsrc="${wp.src}"
            alt="${wp.title}"
            loading="lazy"
            decoding="async"
            fetchpriority="low"
            onload="this.dataset.loaded = true"
            onclick="openPreview('${wp.src}', '${wp.title}', '${wp.type}')">
          <div class="wallpaper-title">${wp.title}</div>
          <div class="wallpaper-category">Category: ${wp.category}</div>
          <a href="${wp.src}" download="${wp.title.replace(/\s+/g, '_')}.jpg" class="download-btn">Download</a>
        `;

        const img = card.querySelector('img');
        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting && !img.dataset.loaded) {
              img.src = img.dataset.fullsrc;
              img.dataset.loaded = true;
            }
          });
        }, { rootMargin: '200px' });

        observer.observe(img);
        container.appendChild(card);
      });
    }

    // [Rest of your JavaScript functions remain exactly the same]
  </script>
</body>
</html>
